<!DOCTYPE html>
<html xmnls:th="http://www.thymeleaf.org" xmnls:sec="http://www.thymeleaf.org/extras/spring/spring-security">

    <head th:replace= "/fragments/head :: head" > </head>

    <body>

        <!-- HEADER -->
        <header th:replace ="/fragments/header :: header" > </header>

        <!-- LISTADO DE NOTICIAS -->
        <div class="container m-5">
            <table class="table table-light" >
                <thead>
                    <tr>
                        <th scope="col">Id del Usuario</th>
                        <th scope="col">Nombre</th>
                        <th scope="col">Foto de Perfil</th>
                        <th scope="col">Rol</th>
                        <th scope="col">Cambiar Rol</th>
                        <th scope="col">Modificar</th>

                    </tr>
                </thead>
                <tbody th:each="usuario : ${usuarios}">
                    <tr>
                        <th scope="row" th:text="${usuario.id}"></th>
                        <td th:text="${usuario.nombre}"></td>
                        <td>
                            <a><img th:if="${usuario.imagen != null}" class="logo" th:src="@{/imagen/perfil/__${usuario.id}__}"></a>                    
                        </td>
                        <td th:text="${usuario.rol}"></td>
                        <td>
                            <a th:href="@{/admin/modificarRol/__${usuario.id}__}">Cambiar</a>                    
                        </td>
                        <td>
                            <a th:href="@{/admin/modificarUsuario/__${usuario.id}__}">Modificar no anda</a>                    
                        </td>
                    </tr>
                </tbody>
        </div>

        <!-- RECIBE ERRORES -->
        <div th:if="${error != null}" class="card text-white bg-danger mb-3 mensajeError">
            <div class="card-body">
                <h5 class="card-title">ERROR</h5>
                <p class="card-text" th:text="${error}"></p>
            </div> 
        </div>

        <div th:if="${exito != null}" class="card text-white bg-danger mb-3 mensajeExito">
            <div class="card-body">
                <h5 class="card-title">Exito!</h5>
                <p class="card-text" th:text="${exito}"></p>
            </div> 
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
    </body>

</html>